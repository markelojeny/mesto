(()=>{"use strict";var t={inputSelector:".form__input",submitButtonSelector:".form__button-save",inactiveButtonSelector:"form__button-save_inactive",errorForm:".form__error",errorType:"form__input_type_error",errorClass:"form__error_active"};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._templateSelector=r,this._handleCardClick=n}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".photo-card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".photo-card__title"),this._cardImage=this._element.querySelector(".photo-card__picture"),this._buttonDelete=this._element.querySelector(".photo-card__button-delete"),this._buttonLike=this._element.querySelector(".photo-card__like"),this._buttonZoom=this._element.querySelector(".photo-card__button-picture"),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._setEventListeners(),this._element}},{key:"_remove",value:function(){this._element.remove(),this._element=null}},{key:"_toggleLike",value:function(){this._buttonLike.classList.toggle("photo-card__like_active")}},{key:"_zoomImage",value:function(){this._handleCardClick(this._name,this._link)}},{key:"_setEventListeners",value:function(){var t=this;this._buttonLike.addEventListener("click",(function(){return t._toggleLike()})),this._buttonDelete.addEventListener("click",(function(){return t._remove()})),this._buttonZoom.addEventListener("click",(function(){return t._zoomImage()}))}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var u=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){return t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(o)?o:String(o)),n)}var o}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupSelector=document.querySelector(e),this._buttonClose=this._popupSelector.querySelector(".popup__button-close"),this._handleEscClose=this._handleEscClose.bind(this)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleOverlayClose",value:function(t){t.target===t.currentTarget&&this.close(t.target)}},{key:"setEventListeners",value:function(){var t=this;this._buttonClose.addEventListener("click",(function(){t.close()})),this._popupSelector.addEventListener("mousedown",this._handleOverlayClose.bind(this))}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},f.apply(this,arguments)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,r=t.popupSelector,n=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,r))._handleFormSubmit=n,e._form=e._popupSelector.querySelector(".form"),e._inputList=e._form.querySelectorAll(".form__input"),e}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setInputValue",value:function(t){this._inputList.forEach((function(e){e.value=t[e.name]}))}},{key:"close",value:function(){f(m(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var t=this;f(m(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(n);if(o){var r=S(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupPicture=e._popupSelector.querySelector(".popup__picture"),e._popupFigcaption=e._popupSelector.querySelector(".popup__title_type_image"),e}return e=u,(r=[{key:"open",value:function(t,e){_(S(u.prototype),"open",this).call(this),this._popupPicture.src=e,this._popupPicture.alt=t,this._popupFigcaption.textContent=t}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===k(o)?o:String(o)),n)}var o}var E=function(){function t(e){var r=e.name,n=e.about;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(r),this._about=document.querySelector(n)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,r=t.about;this._name.textContent=e,this._about.textContent=r}}])&&w(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),j=(document.querySelector(".popup_type_edit"),document.querySelector(".popup_type_place"),document.querySelector(".popup_type_image"),document.querySelector(".profile")),O=document.querySelector(".form_type_edit"),P=document.querySelector(".form_type_place"),L=(j.querySelector(".profile__nickname"),j.querySelector(".profile__about"),j.querySelector(".profile__button-edit")),C=j.querySelector(".profile__button-add");function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}var I=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=r,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonSelector=e.inactiveButtonSelector,this._errorType=e.errorType,this._errorClass=e.errorClass,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t){var e=this._form.querySelector("#".concat(t.id,"-error"));e.textContent=t.validationMessage,e.classList.add(this._errorClass),t.classList.add(this._errorType)}},{key:"_hideInputError",value:function(t){var e=this._form.querySelector("#".concat(t.id,"-error"));e.textContent="",e.classList.remove(this._errorClass),t.classList.remove(this._errorType)}},{key:"hideFormsError",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"disableButton",value:function(){this._submitButton.classList.add(this._inactiveButtonSelector),this._submitButton.setAttribute("disabled",!0)}},{key:"_enableButton",value:function(){this._submitButton.classList.remove(this._inactiveButtonSelector),this._submitButton.removeAttribute("disabled","")}},{key:"_hasNotValidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasNotValidInput()?this.disableButton():this._enableButton()}},{key:"_setEventListener",value:function(){var t=this;this._form.addEventListener("submit",(function(t){t.preventDefault()})),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}}])&&T(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),B=new I(t,P),x=new I(t,O),R=new v({popupSelector:".popup_type_edit",handleFormSubmit:function(t){var e=t.nickname,r=t.about;V.setUserInfo({name:e,about:r}),R.close()}}),V=new E({name:".profile__nickname",about:".profile__about"});R.setEventListeners(),L.addEventListener("click",(function(){x.hideFormsError();var t=V.getUserInfo(),e=t.name,r=t.about;R.setInputValue({nickname:e,about:r}),R.open()}));var F=new v({popupSelector:".popup_type_place",handleFormSubmit:function(t){var e=t.placeName,r=t.placeLink;U.addItem(A({name:e,link:r})),F.close()}});C.addEventListener("click",(function(){B.hideFormsError(),F.open(),B.disableButton()}));var D=new g(".popup_type_image");D.setEventListeners();var A=function(t){return new n(t,".card-template",N).generateCard()};function N(t,e){D.open(t,e)}var U=new u({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(t){U.addItem(A(t))}},".photo-cards");U.renderItems(),F.setEventListeners(),B.enableValidation(),x.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5iMGMzYzAwNTViMjViY2Q0N2JiOC5qcyIsIm1hcHBpbmdzIjoibUJBQU8sSUEyQk1BLEVBQU0sQ0FDZkMsY0FBZSxlQUNmQyxxQkFBc0IscUJBQ3RCQyx1QkFBd0IsNkJBQ3hCQyxVQUFXLGVBQ1hDLFVBQVcseUJBQ1hDLFdBQVksc0IsdXFCQ2pDS0MsRUFBSSxXQUNyQixTQUFBQSxFQUFZQyxFQUFNQyxFQUFrQkMsSSw0RkFBaUJDLENBQUEsS0FBQUosR0FDbkRLLEtBQUtDLE1BQVFMLEVBQUtNLEtBQ2xCRixLQUFLRyxNQUFRUCxFQUFLUSxLQUNsQkosS0FBS0ssa0JBQW9CUixFQUN6QkcsS0FBS00saUJBQW1CUixDQUMxQixDLFFBK0NDLE8sRUEvQ0FILEcsRUFBQSxFQUFBWSxJQUFBLGVBQUFDLE1BRUQsV0FPRSxPQU5vQkMsU0FDbkJDLGNBQWNWLEtBQUtLLG1CQUNuQk0sUUFDQUQsY0FBYyxlQUNkRSxXQUFVLEVBR2IsR0FBQyxDQUFBTCxJQUFBLGVBQUFDLE1BRUQsV0FlRSxPQWRBUixLQUFLYSxTQUFXYixLQUFLYyxlQUVyQmQsS0FBS2UsV0FBYWYsS0FBS2EsU0FBU0gsY0FBYyxzQkFDOUNWLEtBQUtnQixXQUFhaEIsS0FBS2EsU0FBU0gsY0FBYyx3QkFDOUNWLEtBQUtpQixjQUFnQmpCLEtBQUthLFNBQVNILGNBQWMsOEJBQ2pEVixLQUFLa0IsWUFBY2xCLEtBQUthLFNBQVNILGNBQWMscUJBQy9DVixLQUFLbUIsWUFBY25CLEtBQUthLFNBQVNILGNBQWMsK0JBRS9DVixLQUFLZSxXQUFXSyxZQUFjcEIsS0FBS0MsTUFDbkNELEtBQUtnQixXQUFXSyxJQUFNckIsS0FBS0csTUFDM0JILEtBQUtnQixXQUFXTSxJQUFNdEIsS0FBS0MsTUFFM0JELEtBQUt1QixxQkFFRXZCLEtBQUthLFFBQ2IsR0FBQyxDQUFBTixJQUFBLFVBQUFDLE1BRUYsV0FDRVIsS0FBS2EsU0FBU1csU0FDZHhCLEtBQUthLFNBQVcsSUFDbEIsR0FBQyxDQUFBTixJQUFBLGNBQUFDLE1BRUQsV0FDRVIsS0FBS2tCLFlBQVlPLFVBQVVDLE9BQU8sMEJBQ3BDLEdBQUMsQ0FBQW5CLElBQUEsYUFBQUMsTUFFRCxXQUNFUixLQUFLTSxpQkFBaUJOLEtBQUtDLE1BQU9ELEtBQUtHLE1BQ3pDLEdBQUMsQ0FBQUksSUFBQSxxQkFBQUMsTUFFRCxXQUFxQixJQUFBbUIsRUFBQSxLQUNuQjNCLEtBQUtrQixZQUFZVSxpQkFBaUIsU0FBUyxrQkFBTUQsRUFBS0UsYUFBYSxJQUNuRTdCLEtBQUtpQixjQUFjVyxpQkFBaUIsU0FBUyxrQkFBTUQsRUFBS0csU0FBUyxJQUNqRTlCLEtBQUttQixZQUFZUyxpQkFBaUIsU0FBUyxrQkFBTUQsRUFBS0ksWUFBWSxHQUNwRSxNLG9FQUFDcEMsQ0FBQSxDQXJEb0IsRyx1cUJDQUpxQyxFQUFPLFdBQ3hCLFNBQUFBLEVBQUFDLEVBQWlDQyxHQUFVLElBQTdCQyxFQUFLRixFQUFMRSxNQUFPQyxFQUFRSCxFQUFSRyxVLDRGQUFRckMsQ0FBQSxLQUFBaUMsR0FDekJoQyxLQUFLcUMsT0FBU0YsRUFDZG5DLEtBQUtzQyxVQUFZRixFQUNqQnBDLEtBQUt1QyxXQUFhOUIsU0FBU0MsY0FBY3dCLEVBQzdDLEMsUUFRQyxPLEVBUkFGLEcsRUFBQSxFQUFBekIsSUFBQSxjQUFBQyxNQUVELFdBQWMsSUFBQW1CLEVBQUEsS0FDVjNCLEtBQUtxQyxPQUFPRyxTQUFRLFNBQUFDLEdBQUksT0FBSWQsRUFBS1csVUFBVUcsRUFBSyxHQUNwRCxHQUFDLENBQUFsQyxJQUFBLFVBQUFDLE1BRUQsU0FBUWtDLEdBQ0oxQyxLQUFLdUMsV0FBV0ksUUFBUUQsRUFDNUIsTSxvRUFBQ1YsQ0FBQSxDQWJ1QixHLHVxQkNBUFksRUFBSyxXQUN0QixTQUFBQSxFQUFZQyxJLDRGQUFlOUMsQ0FBQSxLQUFBNkMsR0FDdkI1QyxLQUFLOEMsZUFBaUJyQyxTQUFTQyxjQUFjbUMsR0FDN0M3QyxLQUFLK0MsYUFBZS9DLEtBQUs4QyxlQUFlcEMsY0FBYyx3QkFDdERWLEtBQUtnRCxnQkFBa0JoRCxLQUFLZ0QsZ0JBQWdCQyxLQUFLakQsS0FFckQsQyxRQStCQyxPLEVBL0JBNEMsRyxFQUFBLEVBQUFyQyxJQUFBLE9BQUFDLE1BRUQsV0FDSVIsS0FBSzhDLGVBQWVyQixVQUFVeUIsSUFBSSxnQkFDbEN6QyxTQUFTbUIsaUJBQWlCLFVBQVc1QixLQUFLZ0QsZ0JBQzlDLEdBQUMsQ0FBQXpDLElBQUEsUUFBQUMsTUFFRCxXQUNJUixLQUFLOEMsZUFBZXJCLFVBQVVELE9BQU8sZ0JBQ3JDZixTQUFTMEMsb0JBQW9CLFVBQVduRCxLQUFLZ0QsZ0JBQ2pELEdBQUMsQ0FBQXpDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0I0QyxHQUNJLFdBQVpBLEVBQUk3QyxLQUNKUCxLQUFLcUQsT0FFYixHQUFDLENBQUE5QyxJQUFBLHNCQUFBQyxNQUVELFNBQW9CNEMsR0FDWkEsRUFBSUUsU0FBV0YsRUFBSUcsZUFDbkJ2RCxLQUFLcUQsTUFBTUQsRUFBSUUsT0FFdkIsR0FBQyxDQUFBL0MsSUFBQSxvQkFBQUMsTUFFRCxXQUFvQixJQUFBbUIsRUFBQSxLQUVoQjNCLEtBQUsrQyxhQUFhbkIsaUJBQWlCLFNBQVMsV0FDeENELEVBQUswQixPQUNULElBRUFyRCxLQUFLOEMsZUFBZWxCLGlCQUFpQixZQUFhNUIsS0FBS3dELG9CQUFvQlAsS0FBS2pELE1BQ3BGLE0sb0VBQUM0QyxDQUFBLENBckNxQixHLGd2Q0NBSyxJQUNWYSxFQUFhLFNBQUFDLEkscVJBQUFDLENBQUFGLEVBQUFDLEdBQUEsSSxRQUFBRSxHLEVBQUFILEUscXJCQUM5QixTQUFBQSxFQUFBeEIsR0FBaUQsSUFBQU4sRUFBbkNrQixFQUFhWixFQUFiWSxjQUFlZ0IsRUFBZ0I1QixFQUFoQjRCLGlCQUlxQyxPLDRGQUpyQjlELENBQUEsS0FBQTBELElBQ3pDOUIsRUFBQWlDLEVBQUFFLEtBQUEsS0FBTWpCLElBQ0RrQixrQkFBb0JGLEVBQ3pCbEMsRUFBS3FDLE1BQVFyQyxFQUFLbUIsZUFBZXBDLGNBQWMsU0FDL0NpQixFQUFLc0MsV0FBYXRDLEVBQUtxQyxNQUFNRSxpQkFBaUIsZ0JBQWdCdkMsQ0FDbEUsQ0EyQkcsTyxFQTNCRjhCLEcsRUFBQSxFQUFBbEQsSUFBQSxrQkFBQUMsTUFFRCxXQUFrQixJQUFBMkQsRUFBQSxLQUtkLE9BSkFuRSxLQUFLb0UsWUFBYyxDQUFDLEVBQ3BCcEUsS0FBS2lFLFdBQVd6QixTQUFRLFNBQUE2QixHQUNwQkYsRUFBS0MsWUFBWUMsRUFBTW5FLE1BQVFtRSxFQUFNN0QsS0FDekMsSUFDT1IsS0FBS29FLFdBQ2hCLEdBQUMsQ0FBQTdELElBQUEsZ0JBQUFDLE1BRUQsU0FBY1osR0FDVkksS0FBS2lFLFdBQVd6QixTQUFRLFNBQUE2QixHQUNwQkEsRUFBTTdELE1BQVFaLEVBQUt5RSxFQUFNbkUsS0FDN0IsR0FDSixHQUFDLENBQUFLLElBQUEsUUFBQUMsTUFFRCxXQUNJOEQsRUFBQUMsRUFBQWQsRUFBQWUsV0FBQSxjQUFBVixLQUFBLE1BQ0E5RCxLQUFLZ0UsTUFBTVMsT0FDZixHQUFDLENBQUFsRSxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUFrRSxFQUFBLEtBQ2hCSixFQUFBQyxFQUFBZCxFQUFBZSxXQUFBLDBCQUFBVixLQUFBLE1BQ0E5RCxLQUFLZ0UsTUFBTXBDLGlCQUFpQixVQUFVLFNBQUN3QixHQUNyQ0EsRUFBSXVCLGlCQUNKRCxFQUFLWCxrQkFBa0JXLEVBQUtFLGtCQUM5QixHQUNGLE0sb0VBQUNuQixDQUFBLENBakMyQixDQUFTYixHLGd2Q0NEWixJQUNWaUMsRUFBYyxTQUFBbkIsSSxxUkFBQUMsQ0FBQWtCLEVBQUFuQixHQUFBLEksUUFBQUUsRyxFQUFBaUIsRSxxckJBQy9CLFNBQUFBLEVBQVloQyxHQUFlLElBQUFsQixFQUcrRCxPLDRGQUgvRDVCLENBQUEsS0FBQThFLElBQ3ZCbEQsRUFBQWlDLEVBQUFFLEtBQUEsS0FBTWpCLElBQ0RpQyxjQUFnQm5ELEVBQUttQixlQUFlcEMsY0FBYyxtQkFDdkRpQixFQUFLb0QsaUJBQW1CcEQsRUFBS21CLGVBQWVwQyxjQUFjLDRCQUE0QmlCLENBQzFGLENBT0MsTyxFQVBBa0QsRyxFQUFBLEVBQUF0RSxJQUFBLE9BQUFDLE1BRUQsU0FBS04sRUFBTUUsR0FDUGtFLEVBQUFDLEVBQUFNLEVBQUFMLFdBQUEsYUFBQVYsS0FBQSxNQUNBOUQsS0FBSzhFLGNBQWN6RCxJQUFNakIsRUFDekJKLEtBQUs4RSxjQUFjeEQsSUFBTXBCLEVBQ3pCRixLQUFLK0UsaUJBQWlCM0QsWUFBY2xCLENBQ3hDLE0sb0VBQUMyRSxDQUFBLENBWjhCLENBQVNqQyxHLHVxQkNEdkJvQyxFQUFRLFdBQ3pCLFNBQUFBLEVBQUEvQyxHQUE2QixJQUFmL0IsRUFBSStCLEVBQUovQixLQUFNK0UsRUFBS2hELEVBQUxnRCxPLDRGQUFLbEYsQ0FBQSxLQUFBaUYsR0FDckJoRixLQUFLQyxNQUFRUSxTQUFTQyxjQUFjUixHQUNwQ0YsS0FBS2tGLE9BQVN6RSxTQUFTQyxjQUFjdUUsRUFDekMsQyxRQVlDLE8sRUFaQUQsRyxFQUFBLEVBQUF6RSxJQUFBLGNBQUFDLE1BRUQsV0FDSSxNQUFPLENBQ0hOLEtBQU1GLEtBQUtDLE1BQU1tQixZQUNqQjZELE1BQU9qRixLQUFLa0YsT0FBTzlELFlBRTNCLEdBQUMsQ0FBQWIsSUFBQSxjQUFBQyxNQUVELFNBQUEyRSxHQUE2QixJQUFmakYsRUFBSWlGLEVBQUpqRixLQUFNK0UsRUFBS0UsRUFBTEYsTUFDaEJqRixLQUFLQyxNQUFNbUIsWUFBY2xCLEVBQ3pCRixLQUFLa0YsT0FBTzlELFlBQWM2RCxDQUM5QixNLG9FQUFDRCxDQUFBLENBaEJ3QixHQ0loQkksR0FKZTNFLFNBQVNDLGNBQWMsb0JBQ3ZCRCxTQUFTQyxjQUFjLHFCQUN2QkQsU0FBU0MsY0FBYyxxQkFFckJELFNBQVNDLGNBQWMsYUFFeEMyRSxFQUFjNUUsU0FBU0MsY0FBYyxtQkFDckM0RSxFQUFZN0UsU0FBU0MsY0FBYyxvQkFLbkM2RSxHQUhrQkgsRUFBZTFFLGNBQWMsc0JBQ2hDMEUsRUFBZTFFLGNBQWMsbUJBRW5CMEUsRUFBZTFFLGNBQWMsMEJBRXREOEUsRUFBdUJKLEVBQWUxRSxjQUFjLHdCLHVxQkNkNUMrRSxFQUFhLFdBQ2hDLFNBQUFBLEVBQVlDLEVBQVdDLEksNEZBQU01RixDQUFBLEtBQUEwRixHQUMzQnpGLEtBQUtnRSxNQUFRMkIsRUFDYjNGLEtBQUs0RixlQUFpQkYsRUFBVXJHLGNBQ2hDVyxLQUFLNkYsc0JBQXdCSCxFQUFVcEcscUJBQ3ZDVSxLQUFLOEYsd0JBQTBCSixFQUFVbkcsdUJBQ3pDUyxLQUFLK0YsV0FBYUwsRUFBVWpHLFVBQzVCTyxLQUFLZ0csWUFBY04sRUFBVWhHLFdBQzdCTSxLQUFLaUUsV0FBYWdDLE1BQU1DLEtBQUtsRyxLQUFLZ0UsTUFBTUUsaUJBQWlCbEUsS0FBSzRGLGlCQUM5RDVGLEtBQUttRyxjQUFnQm5HLEtBQUtnRSxNQUFNdEQsY0FBY1YsS0FBSzZGLHNCQUNyRCxDLFFBMkVDLE8sRUEzRUFKLEcsRUFBQSxFQUFBbEYsSUFBQSxrQkFBQUMsTUFFRCxTQUFnQjRGLEdBQ2QsSUFBTUMsRUFBZXJHLEtBQUtnRSxNQUFNdEQsY0FBYyxJQUFENEYsT0FBS0YsRUFBYUcsR0FBRSxXQUNqRUYsRUFBYWpGLFlBQWNnRixFQUFhSSxrQkFDeENILEVBQWE1RSxVQUFVeUIsSUFBSWxELEtBQUtnRyxhQUNoQ0ksRUFBYTNFLFVBQVV5QixJQUFJbEQsS0FBSytGLFdBQ2xDLEdBQUMsQ0FBQXhGLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0I0RixHQUNkLElBQU1DLEVBQWVyRyxLQUFLZ0UsTUFBTXRELGNBQWMsSUFBRDRGLE9BQUtGLEVBQWFHLEdBQUUsV0FDakVGLEVBQWFqRixZQUFjLEdBQzNCaUYsRUFBYTVFLFVBQVVELE9BQU94QixLQUFLZ0csYUFDbkNJLEVBQWEzRSxVQUFVRCxPQUFPeEIsS0FBSytGLFdBQ3JDLEdBQUMsQ0FBQXhGLElBQUEsaUJBQUFDLE1BRUQsV0FBaUIsSUFBQW1CLEVBQUEsS0FDZjNCLEtBQUtpRSxXQUFXekIsU0FBUSxTQUFDNEQsR0FDdkJ6RSxFQUFLOEUsZ0JBQWdCTCxFQUN2QixHQUNGLEdBQUMsQ0FBQTdGLElBQUEsc0JBQUFDLE1BRUQsU0FBb0I0RixHQUNGQSxFQUFhTSxTQUFTQyxNQUdwQzNHLEtBQUt5RyxnQkFBaUJMLEdBRXRCcEcsS0FBSzRHLGdCQUFpQlIsRUFFMUIsR0FBQyxDQUFBN0YsSUFBQSxnQkFBQUMsTUFFRCxXQUNFUixLQUFLbUcsY0FBYzFFLFVBQVV5QixJQUFJbEQsS0FBSzhGLHlCQUN0QzlGLEtBQUttRyxjQUFjVSxhQUFhLFlBQVksRUFDOUMsR0FBQyxDQUFBdEcsSUFBQSxnQkFBQUMsTUFFRCxXQUNFUixLQUFLbUcsY0FBYzFFLFVBQVVELE9BQU94QixLQUFLOEYseUJBQ3pDOUYsS0FBS21HLGNBQWNXLGdCQUFnQixXQUFZLEdBQ2pELEdBQUMsQ0FBQXZHLElBQUEsb0JBQUFDLE1BRUQsV0FDRSxPQUFPUixLQUFLaUUsV0FBVzhDLE1BQUssU0FBQ1gsR0FDM0IsT0FBUUEsRUFBYU0sU0FBU0MsS0FDaEMsR0FDRixHQUFDLENBQUFwRyxJQUFBLHFCQUFBQyxNQUVELFdBRU1SLEtBQUtnSCxvQkFDUGhILEtBQUtpSCxnQkFFTGpILEtBQUtrSCxlQUVULEdBQUMsQ0FBQTNHLElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQTJELEVBQUEsS0FFbEJuRSxLQUFLZ0UsTUFBTXBDLGlCQUFpQixVQUFVLFNBQVV1RixHQUM5Q0EsRUFBTXhDLGdCQUNSLElBRUEzRSxLQUFLb0gscUJBRUxwSCxLQUFLaUUsV0FBV3pCLFNBQVEsU0FBQzRELEdBQ3ZCQSxFQUFheEUsaUJBQWlCLFNBQVMsV0FDckN1QyxFQUFLa0Qsb0JBQW9CakIsR0FDekJqQyxFQUFLaUQsb0JBQ1AsR0FDRixHQUNGLEdBQUMsQ0FBQTdHLElBQUEsbUJBQUFDLE1BRUQsV0FDRVIsS0FBS3NILG1CQUNQLE0sb0VBQUM3QixDQUFBLENBckYrQixHQ1k1QjhCLEVBQW1CLElBQUk5QixFQUFjckcsRUFBS2tHLEdBQzFDa0MsRUFBbUIsSUFBSS9CLEVBQWNyRyxFQUFLaUcsR0FJMUNvQyxFQUFZLElBQUloRSxFQUFjLENBQ2xDWixjQUFlLG1CQUNmZ0IsaUJBb0JGLFNBQWdDNUIsR0FBdUIsSUFBbkJ5RixFQUFRekYsRUFBUnlGLFNBQVV6QyxFQUFLaEQsRUFBTGdELE1BQzVDMEMsRUFBWUMsWUFBWSxDQUN0QjFILEtBQU13SCxFQUNOekMsTUFBT0EsSUFFVHdDLEVBQVVwRSxPQUNaLElBdkJNc0UsRUFBYyxJQUFJM0MsRUFBUyxDQUMvQjlFLEtBQU0scUJBQ04rRSxNQUFPLG9CQUdUd0MsRUFBVUksb0JBRVZ0QyxFQUF1QjNELGlCQUFpQixTQUFTLFdBQy9DNEYsRUFBaUJNLGlCQUNqQixJQUFBQyxFQUF3QkosRUFBWUssY0FBNUI5SCxFQUFJNkgsRUFBSjdILEtBQU0rRSxFQUFLOEMsRUFBTDlDLE1BQ2R3QyxFQUFVUSxjQUFjLENBQ3RCUCxTQUFVeEgsRUFDVitFLE1BQU9BLElBRVR3QyxFQUFVUyxNQUNaLElBYUEsSUFBTUMsRUFBYSxJQUFJMUUsRUFBYyxDQUNuQ1osY0FBZSxvQkFDZmdCLGlCQStCRixTQUE4QnNCLEdBQTRCLElBQXhCaUQsRUFBU2pELEVBQVRpRCxVQUFXQyxFQUFTbEQsRUFBVGtELFVBQzNDQyxFQUFTQyxRQUFRQyxFQUFXLENBQzFCdEksS0FBTWtJLEVBQ05oSSxLQUFNaUksS0FDUkYsRUFBVzlFLE9BQ2IsSUFqQ0FtQyxFQUFxQjVELGlCQUFpQixTQUFTLFdBQzdDMkYsRUFBaUJPLGlCQUNqQkssRUFBV0QsT0FDWFgsRUFBaUJOLGVBQ25CLElBRUEsSUFBTXdCLEVBQWEsSUFBSTVELEVBQWUscUJBRXRDNEQsRUFBV1osb0JBRVgsSUFBTVcsRUFBYSxTQUFVNUksR0FFM0IsT0FEYSxJQUFJRCxFQUFLQyxFQUFNLGlCQUFrQkUsR0FDbEM0SSxjQUNkLEVBRUEsU0FBUzVJLEVBQWdCSSxFQUFNRSxHQUM3QnFJLEVBQVdQLEtBQUtoSSxFQUFNRSxFQUN4QixDQUVBLElBQU1rSSxFQUFXLElBQUl0RyxFQUFRLENBQzNCRyxNVDNFMEIsQ0FDeEIsQ0FDRWpDLEtBQU0sUUFDTkUsS0FBTSxpRkFFUixDQUNFRixLQUFNLHNCQUNORSxLQUFNLDZGQUVSLENBQ0VGLEtBQU0sVUFDTkUsS0FBTSxrRkFFUixDQUNFRixLQUFNLFdBQ05FLEtBQU0sb0ZBRVIsQ0FDRUYsS0FBTSxxQkFDTkUsS0FBTSw2RkFFUixDQUNFRixLQUFNLFNBQ05FLEtBQU0sa0ZTcURWZ0MsU0FBVSxTQUFDSyxHQUNUNkYsRUFBU0MsUUFBUUMsRUFBVy9GLEdBQzlCLEdBQ0MsZ0JBRUg2RixFQUFTSyxjQVNUUixFQUFXTixvQkFFWE4sRUFBaUJxQixtQkFDakJwQixFQUFpQm9CLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3QuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvZWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ9CR0LDQudC60LDQuycsXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXG4gICAgfVxuXTsgXG5cbmV4cG9ydCBjb25zdCBvYmogPSB7XG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fYnV0dG9uLXNhdmUnLFxuICAgIGluYWN0aXZlQnV0dG9uU2VsZWN0b3I6ICdmb3JtX19idXR0b24tc2F2ZV9pbmFjdGl2ZScsXG4gICAgZXJyb3JGb3JtOiAnLmZvcm1fX2Vycm9yJyxcbiAgICBlcnJvclR5cGU6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgICBlcnJvckNsYXNzOiAnZm9ybV9fZXJyb3JfYWN0aXZlJ1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB9XG4gIFxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5waG90by1jYXJkJylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIFxuICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgIH1cbiAgXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICBcbiAgICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWNhcmRfX3RpdGxlJyk7XG4gICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1jYXJkX19waWN0dXJlJyk7XG4gICAgICB0aGlzLl9idXR0b25EZWxldGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1jYXJkX19idXR0b24tZGVsZXRlJyk7XG4gICAgICB0aGlzLl9idXR0b25MaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tY2FyZF9fbGlrZScpO1xuICAgICAgdGhpcy5fYnV0dG9uWm9vbSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWNhcmRfX2J1dHRvbi1waWN0dXJlJyk7XG5cbiAgICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICBcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgICB9XG4gICAgXG4gICAgX3JlbW92ZSgpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBfdG9nZ2xlTGlrZSgpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkxpa2UuY2xhc3NMaXN0LnRvZ2dsZSgncGhvdG8tY2FyZF9fbGlrZV9hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBfem9vbUltYWdlKCkge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgdGhpcy5fYnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX3RvZ2dsZUxpa2UoKSk7XG4gICAgICB0aGlzLl9idXR0b25EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9yZW1vdmUoKSk7XG4gICAgICB0aGlzLl9idXR0b25ab29tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fem9vbUltYWdlKCkpO1xuICAgIH1cbiAgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKCkge1xuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXG4gICAgfVxuXG4gICAgYWRkSXRlbShjYXJkKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uQ2xvc2UgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgLy90aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX29wZW5lZCcpO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICB9IFxuICAgIH1cblxuICAgIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XG4gICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkgeyBcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoZXZ0LnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgICAgICB0aGlzLl9idXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZS5iaW5kKHRoaXMpKTtcbiAgICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG4gICAgfVxuXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICAgIH1cblxuICAgIHNldElucHV0VmFsdWUoZGF0YSkge1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBcblxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3BvcHVwUGljdHVyZSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlJyk7XG4gICAgICAgIHRoaXMuX3BvcHVwRmlnY2FwdGlvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX190aXRsZV90eXBlX2ltYWdlJyk7XG4gICAgfVxuXG4gICAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgdGhpcy5fcG9wdXBQaWN0dXJlLnNyYyA9IGxpbms7XG4gICAgICAgIHRoaXMuX3BvcHVwUGljdHVyZS5hbHQgPSBuYW1lO1xuICAgICAgICB0aGlzLl9wb3B1cEZpZ2NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xuICAgIH1cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudFxuICAgICAgICB9IFxuICAgIH1cblxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IHBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTtcbmV4cG9ydCBjb25zdCBwbGFjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9wbGFjZScpO1xuZXhwb3J0IGNvbnN0IGltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2ltYWdlJyk7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfZWRpdCcpO1xuZXhwb3J0IGNvbnN0IHBsYWNlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfcGxhY2UnKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOaWNrbmFtZSA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uaWNrbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dCA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hYm91dCcpO1xuXG5leHBvcnQgY29uc3QgcG9wdXBPcGVuQnV0dG9uRWxlbWVudCA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xuXG5leHBvcnQgY29uc3QgcG9wdXBPcGVuQnV0dG9uUGxhY2UgPSBwcm9maWxlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWFkZCcpOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMsIGZvcm0pIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2VsZWN0b3JzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZWxlY3RvcnMuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25TZWxlY3RvciA9IHNlbGVjdG9ycy5pbmFjdGl2ZUJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2Vycm9yVHlwZSA9IHNlbGVjdG9ycy5lcnJvclR5cGU7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNlbGVjdG9ycy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvclR5cGUpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JUeXBlKTtcbiAgfVxuXG4gIGhpZGVGb3Jtc0Vycm9yKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSlcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgaXNWYWxpZCA9IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcblxuICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvciAoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IgKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gIH1cbiAgXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xuICB9XG5cbiAgX2hhc05vdFZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG5cbiAgICBpZiAodGhpcy5faGFzTm90VmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG4gIFxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICBcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKClcbiAgfVxufSIsImltcG9ydCB7IGluaXRpYWxDYXJkcywgb2JqIH0gZnJvbSAnLi4vdXRpbHMvY29uc3QuanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHsgcGxhY2VGb3JtLCBwcm9maWxlRm9ybSwgcG9wdXBPcGVuQnV0dG9uUGxhY2UsIFxuICBwb3B1cE9wZW5CdXR0b25FbGVtZW50LCBwcm9maWxlTmlja25hbWUsIHByb2ZpbGVBYm91dCB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnRzLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5cbmltcG9ydCAnLi9pbmRleC5jc3MnXG5cbmNvbnN0IGZvcm1DYXJkVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcihvYmosIHBsYWNlRm9ybSk7XG5jb25zdCBmb3JtRWRpdFZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBwcm9maWxlRm9ybSk7XG5cbi8vdnN0YXZrYSB2IHByaWZpbGVcblxuY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oeyBcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2VkaXQnLCBcbiAgaGFuZGxlRm9ybVN1Ym1pdDogaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgXG59KVxuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7IFxuICBuYW1lOiAnLnByb2ZpbGVfX25pY2tuYW1lJyxcbiAgYWJvdXQ6ICcucHJvZmlsZV9fYWJvdXQnXG4gfSlcblxucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnBvcHVwT3BlbkJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgZm9ybUVkaXRWYWxpZGF0ZS5oaWRlRm9ybXNFcnJvcigpO1xuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICBwb3B1cEVkaXQuc2V0SW5wdXRWYWx1ZSh7IFxuICAgIG5pY2tuYW1lOiBuYW1lLFxuICAgIGFib3V0OiBhYm91dFxuICAgfSkgXG4gIHBvcHVwRWRpdC5vcGVuKCk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgKHsgbmlja25hbWUsIGFib3V0IH0pIHtcbiAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oeyBcbiAgICBuYW1lOiBuaWNrbmFtZSxcbiAgICBhYm91dDogYWJvdXRcbiAgIH0pIFxuICBwb3B1cEVkaXQuY2xvc2UoKTtcbn1cblxuXG4vL3ZzdGF2a2EgZm90b1xuXG5jb25zdCBwb3B1cFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfcGxhY2UnLCBcbiAgaGFuZGxlRm9ybVN1Ym1pdDogaGFuZGxlUGxhY2VGb3JtU3VibWl0XG59KVxuXG5wb3B1cE9wZW5CdXR0b25QbGFjZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBmb3JtQ2FyZFZhbGlkYXRlLmhpZGVGb3Jtc0Vycm9yKCk7XG4gIHBvcHVwUGxhY2Uub3BlbigpO1xuICBmb3JtQ2FyZFZhbGlkYXRlLmRpc2FibGVCdXR0b24oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xuXG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIuY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufVxuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHsgXG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSlcbiAgfVxufSwgJy5waG90by1jYXJkcycpO1xuXG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuICBcbmZ1bmN0aW9uIGhhbmRsZVBsYWNlRm9ybVN1Ym1pdCAoeyBwbGFjZU5hbWUsIHBsYWNlTGluayB9KSB7XG4gIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7IFxuICAgIG5hbWU6IHBsYWNlTmFtZSwgXG4gICAgbGluazogcGxhY2VMaW5rIH0pKTtcbiAgcG9wdXBQbGFjZS5jbG9zZSgpO1xufVxuXG5wb3B1cFBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIFxuZm9ybUNhcmRWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtRWRpdFZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsib2JqIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25TZWxlY3RvciIsImVycm9yRm9ybSIsImVycm9yVHlwZSIsImVycm9yQ2xhc3MiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRpdGxlIiwiX2NhcmRJbWFnZSIsIl9idXR0b25EZWxldGUiLCJfYnV0dG9uTGlrZSIsIl9idXR0b25ab29tIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdG9nZ2xlTGlrZSIsIl9yZW1vdmUiLCJfem9vbUltYWdlIiwiU2VjdGlvbiIsIl9yZWYiLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJjYXJkIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX2J1dHRvbkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJjYWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RoaXMyIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJyZXNldCIsIl90aGlzMyIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaWN0dXJlIiwiX3BvcHVwRmlnY2FwdGlvbiIsIlVzZXJJbmZvIiwiYWJvdXQiLCJfYWJvdXQiLCJfcmVmMiIsInByb2ZpbGVFbGVtZW50IiwicHJvZmlsZUZvcm0iLCJwbGFjZUZvcm0iLCJwb3B1cE9wZW5CdXR0b25FbGVtZW50IiwicG9wdXBPcGVuQnV0dG9uUGxhY2UiLCJGb3JtVmFsaWRhdG9yIiwic2VsZWN0b3JzIiwiZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uU2VsZWN0b3IiLCJfZXJyb3JUeXBlIiwiX2Vycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJfc3VibWl0QnV0dG9uIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwiX2hhc05vdFZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsImV2ZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVyIiwiZm9ybUNhcmRWYWxpZGF0ZSIsImZvcm1FZGl0VmFsaWRhdGUiLCJwb3B1cEVkaXQiLCJuaWNrbmFtZSIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsImhpZGVGb3Jtc0Vycm9yIiwiX3Byb2ZpbGVJbmZvJGdldFVzZXJJIiwiZ2V0VXNlckluZm8iLCJzZXRJbnB1dFZhbHVlIiwib3BlbiIsInBvcHVwUGxhY2UiLCJwbGFjZU5hbWUiLCJwbGFjZUxpbmsiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBJbWFnZSIsImdlbmVyYXRlQ2FyZCIsInJlbmRlckl0ZW1zIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=